# ğŸš€ CryptoDen Trading Bot â€” ĞŸĞĞ›ĞĞĞ¯ Ğ”ĞĞšĞ£ĞœĞ•ĞĞ¢ĞĞ¦Ğ˜Ğ¯

> **Ğ’ĞµÑ€ÑĞ¸Ñ:** 2.0  
> **Ğ”Ğ°Ñ‚Ğ°:** 2026-01-28  
> **ĞŸÑƒÑ‚ÑŒ:** `/root/crypto-bot/`  
> **Python:** 3.11+  
> **Ğ‘Ğ¸Ñ€Ğ¶Ğ°:** Bybit Spot  
> **AI:** Claude Sonnet 4 via OpenRouter

---

## ğŸ“‹ Ğ¡ĞĞ”Ğ•Ğ Ğ–ĞĞĞ˜Ğ•

1. [ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°](#Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°)
2. [Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²](#ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°-Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²)
3. [ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ¼Ğ¾Ğ´ÑƒĞ»Ğ¸](#ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ-Ğ¼Ğ¾Ğ´ÑƒĞ»Ğ¸)
4. [Trading Modules](#trading-modules) â­ NEW
5. [Telegram Bot](#telegram-bot)
6. [WebApp](#webapp)
7. [AI ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°](#ai-ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°)
8. [Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸](#ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸)
9. [Ğ¢Ğ¾Ñ€Ğ³Ğ¾Ğ²Ğ»Ñ](#Ñ‚Ğ¾Ñ€Ğ³Ğ¾Ğ²Ğ»Ñ)
10. [ĞŸĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ](#Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ-Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ)
11. [ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ](#ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹-ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ)
12. [Troubleshooting](#troubleshooting)
13. [ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ´Ğ»Ñ AI Ğ°Ğ³ĞµĞ½Ñ‚Ğ°](#Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°-Ğ´Ğ»Ñ-ai-Ğ°Ğ³ĞµĞ½Ñ‚Ğ°)

---

## ğŸ—ï¸ ĞĞ Ğ¥Ğ˜Ğ¢Ğ•ĞšĞ¢Ğ£Ğ Ğ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         TELEGRAM USER                                â”‚
â”‚                              â†“                                       â”‚
â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚               â”‚     Telegram Bot        â”‚                            â”‚
â”‚               â”‚    (Reply Keyboard)     â”‚                            â”‚
â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                           â†“                                          â”‚
â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚               â”‚    WebApp (Flask)       â”‚ â† app.cryptoden.ru         â”‚
â”‚               â”‚    ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ±Ğ¾Ñ‚Ğ°       â”‚                            â”‚
â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                           â†“                                          â”‚
â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚               â”‚     MarketMonitor       â”‚ â† 24/7 Ñ†Ğ¸ĞºĞ»                â”‚
â”‚               â”‚    (ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 60 ÑĞµĞº)      â”‚                            â”‚
â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                           â”‚                                          â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚     â”‚                     â”‚                     â”‚                    â”‚
â”‚     â†“                     â†“                     â†“                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚ â”‚ DirectorAI â”‚     â”‚  WhaleAI   â”‚       â”‚  TechAI    â”‚               â”‚
â”‚ â”‚ (Ğ ĞµÑˆĞµĞ½Ğ¸Ñ)  â”‚     â”‚  (Ğ Ñ‹Ğ½Ğ¾Ğº)   â”‚       â”‚(Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸) â”‚               â”‚
â”‚ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚       â”‚                  â”‚                    â”‚                      â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                          â†“                                           â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚     â”‚              TRADING MODULES                   â”‚               â”‚
â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚               â”‚
â”‚     â”‚  â”‚ğŸ“Š Grid   â”‚ğŸ’°Funding â”‚ğŸ”„ Arb    â”‚ğŸ‘·Worker â”‚  â”‚               â”‚
â”‚     â”‚  â”‚   Bot    â”‚ Scalper  â”‚ Scanner  â”‚Strategiesâ”‚  â”‚               â”‚
â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚               â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                          â†“                                           â”‚
â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚               â”‚     TradeManager        â”‚                            â”‚
â”‚               â”‚   SL/TP/Trailing Stop   â”‚                            â”‚
â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                           â†“                                          â”‚
â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚               â”‚     BybitClient         â”‚ â† API Bybit                â”‚
â”‚               â”‚     (Ğ˜ÑĞ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ)        â”‚                            â”‚
â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Ğ“Ğ›ĞĞ’ĞĞ«Ğ™ Ğ¦Ğ˜ĞšĞ› (_check_for_signals)

```
ĞšĞ°Ğ¶Ğ´Ñ‹Ğµ 60 ÑĞµĞºÑƒĞ½Ğ´:
â”‚
â”œâ”€â”€ ğŸ‹ Ğ¨ĞĞ“ 0: Ğ¡Ğ¾Ğ±Ğ¸Ñ€Ğ°ĞµĞ¼ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ (Whale AI Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸, News ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚)
â”‚
â”œâ”€â”€ ğŸ© Ğ¨ĞĞ“ 1: Director TAKE_CONTROL
â”‚   â””â”€â”€ ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ 7 ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸ĞµĞ² Ğ´Ğ»Ñ Ğ¿Ñ€ÑĞ¼Ğ¾Ğ¹ Ñ‚Ğ¾Ñ€Ğ³Ğ¾Ğ²Ğ»Ğ¸
â”‚       â€¢ Fear & Greed < 20 + Ğ±Ñ‹Ñ‡ÑŒĞ¸ Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚Ğ¸ â†’ LONG
â”‚       â€¢ Fear & Greed > 80 + Ğ¼ĞµĞ´Ğ²ĞµĞ¶ÑŒĞ¸ Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚Ğ¸ â†’ SHORT
â”‚       â€¢ ĞœĞ°ÑÑĞ¾Ğ²Ñ‹Ğµ Ğ»Ğ¸ĞºĞ²Ğ¸Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ»Ğ¾Ğ½Ğ³Ğ¾Ğ² ($50M+) â†’ LONG
â”‚       â€¢ ĞœĞ°ÑÑĞ¾Ğ²Ñ‹Ğµ Ğ»Ğ¸ĞºĞ²Ğ¸Ğ´Ğ°Ñ†Ğ¸Ğ¸ ÑˆĞ¾Ñ€Ñ‚Ğ¾Ğ² ($50M+) â†’ SHORT
â”‚       â€¢ Funding > 0.1% + Long Ratio > 70% â†’ SHORT
â”‚       â€¢ Funding < -0.1% + Long Ratio < 30% â†’ LONG
â”‚       â€¢ Extreme Fear (<15) + Ğ¼Ğ°Ğ»Ğ¾ Ğ»Ğ¾Ğ½Ğ³Ğ¾Ğ² (<35%) â†’ LONG
â”‚
â”œâ”€â”€ ğŸ© Ğ¨ĞĞ“ 2: Ğ•ÑĞ»Ğ¸ Director ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ â†’ Worker Ğ¶Ğ´Ñ‘Ñ‚
â”‚
â”œâ”€â”€ ğŸ“Š Ğ¨ĞĞ“ 3: Grid Bot
â”‚   â””â”€â”€ Ğ¡ĞµÑ‚ĞºĞ° Ğ¾Ñ€Ğ´ĞµÑ€Ğ¾Ğ² BUY/SELL Ğ²Ğ¾ĞºÑ€ÑƒĞ³ Ñ†ĞµĞ½Ñ‹
â”‚       â€¢ BTC: 10 ÑƒÑ€Ğ¾Ğ²Ğ½ĞµĞ¹, 0.3% ÑˆĞ°Ğ³, $100/Ğ¾Ñ€Ğ´ĞµÑ€
â”‚       â€¢ ETH: 10 ÑƒÑ€Ğ¾Ğ²Ğ½ĞµĞ¹, 0.4% ÑˆĞ°Ğ³, $75/Ğ¾Ñ€Ğ´ĞµÑ€
â”‚       â€¢ ĞĞ»ÑŒÑ‚Ñ‹: 8 ÑƒÑ€Ğ¾Ğ²Ğ½ĞµĞ¹, 0.5% ÑˆĞ°Ğ³, $50/Ğ¾Ñ€Ğ´ĞµÑ€
â”‚
â”œâ”€â”€ ğŸ’° Ğ¨ĞĞ“ 3.5: Funding Scalper
â”‚   â””â”€â”€ Ğ¢Ğ¾Ñ€Ğ³Ğ¾Ğ²Ğ»Ñ Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ² Ñ‚Ğ¾Ğ»Ğ¿Ñ‹ Ğ¿Ñ€Ğ¸ ÑĞºÑÑ‚Ñ€ĞµĞ¼Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¼ Funding
â”‚       â€¢ Funding > +0.05% â†’ SHORT
â”‚       â€¢ Funding < -0.05% â†’ LONG
â”‚       â€¢ Ğ’Ñ…Ğ¾Ğ´ Ğ·Ğ° 45 Ğ¼Ğ¸Ğ½ Ğ´Ğ¾ Ğ½Ğ°Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ñ
â”‚
â”œâ”€â”€ ğŸ”„ Ğ¨ĞĞ“ 3.7: Arbitrage Scanner
â”‚   â””â”€â”€ Ğ¢Ñ€ĞµÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ°Ñ€Ğ±Ğ¸Ñ‚Ñ€Ğ°Ğ¶ (USDT â†’ BTC â†’ ETH â†’ USDT)
â”‚       â€¢ ĞœĞ¸Ğ½ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ñ‚: 0.15% Ğ¿Ğ¾ÑĞ»Ğµ ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¹
â”‚       â€¢ Ğ¡ĞºĞ°Ğ½Ğ¸Ñ€ÑƒĞµÑ‚ 10 Ğ¼Ğ¾Ğ½ĞµÑ‚
â”‚       â€¢ ĞšÑƒĞ»Ğ´Ğ°ÑƒĞ½ 30 ÑĞµĞº Ğ¼ĞµĞ¶Ğ´Ñƒ ÑĞ´ĞµĞ»ĞºĞ°Ğ¼Ğ¸
â”‚
â”œâ”€â”€ ğŸ†• Ğ¨ĞĞ“ 3.8: Listing Hunter
â”‚   â””â”€â”€ ĞÑ…Ğ¾Ñ‚Ğ° Ğ·Ğ° Ğ½Ğ¾Ğ²Ñ‹Ğ¼Ğ¸ Ğ»Ğ¸ÑÑ‚Ğ¸Ğ½Ğ³Ğ°Ğ¼Ğ¸
â”‚       â€¢ Binance announcements
â”‚       â€¢ Bybit announcements
â”‚       â€¢ CoinMarketCap new listings
â”‚       â€¢ 3 ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸: Pre-Listing, Scalp, Launchpad
â”‚
â””â”€â”€ ğŸ‘· Ğ¨ĞĞ“ 4: Worker Strategies
    â””â”€â”€ ĞšĞ»Ğ°ÑÑĞ¸Ñ‡ĞµÑĞºĞ¸Ğµ ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸ (RSI, Stoch, MACD)
        â€¢ LONG: RSI < 30 + Price > EMA
        â€¢ SHORT: Stoch > 80 + Cross Down
```

---

## ğŸ“ Ğ¡Ğ¢Ğ Ğ£ĞšĞ¢Ğ£Ğ Ğ Ğ¤ĞĞ™Ğ›ĞĞ’

```
/root/crypto-bot/
â”‚
â”œâ”€â”€ .env                              # ğŸ”‘ API ĞºĞ»ÑÑ‡Ğ¸ (ĞĞ• Ğ’ GIT!)
â”œâ”€â”€ .gitignore                        # Git ignore
â”œâ”€â”€ .cursorrules                      # ğŸ“š Ğ­Ğ¢Ğ Ğ”ĞĞšĞ£ĞœĞ•ĞĞ¢ĞĞ¦Ğ˜Ğ¯
â”œâ”€â”€ requirements.txt                  # Python Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
â”œâ”€â”€ README.md                         # ĞšÑ€Ğ°Ñ‚ĞºĞ¾Ğµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ
â”‚
â”œâ”€â”€ app/                              # ğŸš€ Ğ“Ğ›ĞĞ’ĞĞ«Ğ™ ĞœĞĞ”Ğ£Ğ›Ğ¬
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py                       # Ğ¢ĞĞ§ĞšĞ Ğ’Ğ¥ĞĞ”Ğ
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                         # âš™ï¸ Ğ¯Ğ”Ğ Ğ
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ config.py                 # Pydantic Settings
â”‚   â”‚   â”œâ”€â”€ constants.py              # ĞšĞ¾Ğ½ÑÑ‚Ğ°Ğ½Ñ‚Ñ‹
â”‚   â”‚   â”œâ”€â”€ database.py               # Redis/PostgreSQL
â”‚   â”‚   â”œâ”€â”€ logger.py                 # Loguru
â”‚   â”‚   â””â”€â”€ monitor.py                # ğŸ”„ MarketMonitor (Ğ“Ğ›ĞĞ’ĞĞ«Ğ™ Ğ¦Ğ˜ĞšĞ›)
â”‚   â”‚
â”‚   â”œâ”€â”€ modules/                      # ğŸ“¦ Ğ¢ĞĞ Ğ“ĞĞ’Ğ«Ğ• ĞœĞĞ”Ğ£Ğ›Ğ˜ â­ NEW
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base_module.py            # BaseModule, ModuleSignal
â”‚   â”‚   â”œâ”€â”€ grid_bot.py               # ğŸ“Š Grid Bot
â”‚   â”‚   â”œâ”€â”€ funding_scalper.py        # ğŸ’° Funding Scalper
â”‚   â”‚   â”œâ”€â”€ arbitrage.py              # ğŸ”„ Arbitrage Scanner
â”‚   â”‚   â””â”€â”€ listing_hunter.py         # ğŸ†• Listing Hunter
â”‚   â”‚
â”‚   â”œâ”€â”€ strategies/                   # ğŸ“Š Ğ¡Ğ¢Ğ ĞĞ¢Ğ•Ğ“Ğ˜Ğ˜
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ config.py                 # BEST_STRATEGIES + SHORT_STRATEGIES
â”‚   â”‚   â”œâ”€â”€ checker.py                # StrategyChecker
â”‚   â”‚   â”œâ”€â”€ indicators.py             # TechnicalIndicators
â”‚   â”‚   â””â”€â”€ signals.py                # Signal dataclass
â”‚   â”‚
â”‚   â”œâ”€â”€ trading/                      # ğŸ’° Ğ¢ĞĞ Ğ“ĞĞ’Ğ›Ğ¯
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ trade_manager.py          # TradeManager + Trade
â”‚   â”‚   â”œâ”€â”€ position_calculator.py    # Ğ Ğ°ÑÑ‡Ñ‘Ñ‚ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¹
â”‚   â”‚   â”œâ”€â”€ risk_manager.py           # Ğ Ğ¸ÑĞºĞ¸
â”‚   â”‚   â””â”€â”€ bybit/
â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚       â”œâ”€â”€ client.py             # BybitClient
â”‚   â”‚       â”œâ”€â”€ orders.py             # ĞÑ€Ğ´ĞµÑ€Ğ°
â”‚   â”‚       â””â”€â”€ account.py            # Ğ‘Ğ°Ğ»Ğ°Ğ½Ñ
â”‚   â”‚
â”‚   â”œâ”€â”€ intelligence/                 # ğŸ§  NEWS AI
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ news_parser.py            # NewsParser
â”‚   â”‚   â”œâ”€â”€ ai_client.py              # OpenRouter API
â”‚   â”‚   â”œâ”€â”€ sentiment.py              # Sentiment
â”‚   â”‚   â”œâ”€â”€ market_state.py           # Market Mode
â”‚   â”‚   â””â”€â”€ calendar.py               # ĞšĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€ÑŒ
â”‚   â”‚
â”‚   â”œâ”€â”€ brain/                        # ğŸ¤– TRADING AI
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ trading_ai.py             # TradingAI (Claude Sonnet)
â”‚   â”‚
â”‚   â”œâ”€â”€ ai/                           # ğŸ‹ AI ĞĞ“Ğ•ĞĞ¢Ğ«
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ whale_ai.py               # WhaleAI (OI, Funding, Ğ›Ğ¸ĞºĞ²Ğ¸Ğ´Ğ°Ñ†Ğ¸Ğ¸)
â”‚   â”‚   â”œâ”€â”€ director_ai.py            # DirectorAI + DirectorTrader
â”‚   â”‚   â””â”€â”€ trading_coordinator.py    # TradingCoordinator
â”‚   â”‚
â”‚   â”œâ”€â”€ parsers/                      # ğŸ“° ĞŸĞĞ Ğ¡Ğ•Ğ Ğ«
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ twitter_parser.py         # Nitter (Ğ½Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚)
â”‚   â”‚   â”œâ”€â”€ rss_parser.py             # RSS Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚Ğ¸
â”‚   â”‚   â””â”€â”€ coinglass_parser.py       # Ğ›Ğ¸ĞºĞ²Ğ¸Ğ´Ğ°Ñ†Ğ¸Ğ¸, OI
â”‚   â”‚
â”‚   â”œâ”€â”€ notifications/                # ğŸ“± TELEGRAM
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ telegram_bot.py           # TelegramBot
â”‚   â”‚
â”‚   â”œâ”€â”€ bot/                          # ğŸ›ï¸ KEYBOARDS
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ keyboards.py              # get_main_keyboard()
â”‚   â”‚
â”‚   â”œâ”€â”€ backtesting/                  # ğŸ“ˆ Ğ‘Ğ­ĞšĞ¢Ğ•Ğ¡Ğ¢
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ data_loader.py            # BybitDataLoader
â”‚   â”‚   â”œâ”€â”€ backtest_engine.py        # BacktestEngine
â”‚   â”‚   â”œâ”€â”€ strategies.py             # 140+ ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¹
â”‚   â”‚   â”œâ”€â”€ optimizer.py              # ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
â”‚   â”‚   â”œâ”€â”€ reports.py                # ĞÑ‚Ñ‡Ñ‘Ñ‚Ñ‹
â”‚   â”‚   â””â”€â”€ leverage_backtest.py      # Ğ¡ ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸ÑĞ¼Ğ¸
â”‚   â”‚
â”‚   â”œâ”€â”€ backtest/                     # SHORT Ğ‘Ğ­ĞšĞ¢Ğ•Ğ¡Ğ¢Ğ«
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ short_backtest_2025.py
â”‚   â”‚   â””â”€â”€ combo_short_backtest.py
â”‚   â”‚
â”‚   â”œâ”€â”€ debug/                        # ğŸ”§ Ğ”Ğ˜ĞĞ“ĞĞĞ¡Ğ¢Ğ˜ĞšĞ
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ diagnose.py               # ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºĞ°
â”‚   â”‚   â””â”€â”€ test_parsers.py           # Ğ¢ĞµÑÑ‚ Ğ¿Ğ°Ñ€ÑĞµÑ€Ğ¾Ğ²
â”‚   â”‚
â”‚   â””â”€â”€ webapp/                       # ğŸŒ FLASK
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ server.py                 # Flask app
â”‚       â””â”€â”€ templates/
â”‚           â””â”€â”€ webapp.html           # Telegram WebApp UI
â”‚
â”œâ”€â”€ data/                             # ğŸ“ Ğ”ĞĞĞĞ«Ğ•
â”‚   â”œâ”€â”€ *.json                        # ĞšÑÑˆ ÑĞ²ĞµÑ‡ĞµĞ¹
â”‚   â”œâ”€â”€ *.parquet                     # ĞšÑÑˆ Ğ±ÑĞºÑ‚ĞµÑÑ‚Ğ°
â”‚   â”œâ”€â”€ bot_status.json               # Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ´Ğ»Ñ WebApp
â”‚   â””â”€â”€ start_requested.json          # Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ ÑÑ‚Ğ°Ñ€Ñ‚Ğ°
â”‚
â”œâ”€â”€ reports/                          # ğŸ“Š ĞĞ¢Ğ§ĞĞ¢Ğ«
â”‚   â””â”€â”€ *.json
â”‚
â”œâ”€â”€ logs/                             # ğŸ“ Ğ›ĞĞ“Ğ˜
â”‚
â”œâ”€â”€ scripts/                          # ğŸ› ï¸ Ğ£Ğ¢Ğ˜Ğ›Ğ˜Ğ¢Ğ«
â”‚   â”œâ”€â”€ run_backtest.py
â”‚   â”œâ”€â”€ download_data.py
â”‚   â”œâ”€â”€ check_system.py
â”‚   â””â”€â”€ healthcheck.sh
â”‚
â””â”€â”€ tests/                            # ğŸ§ª Ğ¢Ğ•Ğ¡Ğ¢Ğ«
```

---

## ğŸ“¦ TRADING MODULES â­ NEW

### ĞĞ±Ñ‰Ğ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¼Ğ¾Ğ´ÑƒĞ»ĞµĞ¹

```python
# app/modules/base_module.py

@dataclass
class ModuleSignal:
    """Ğ¡Ğ¸Ğ³Ğ½Ğ°Ğ» Ğ¾Ñ‚ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ"""
    module_name: str
    symbol: str
    direction: str       # "LONG" | "SHORT" | "BUY" | "SELL" | "CYCLE"
    entry_price: float
    stop_loss: float
    take_profit: float
    reason: str
    confidence: float = 0.7
    timestamp: datetime = None

class BaseModule(ABC):
    """Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ ĞºĞ»Ğ°ÑÑ Ğ´Ğ»Ñ Ğ²ÑĞµÑ… Ñ‚Ğ¾Ñ€Ğ³Ğ¾Ğ²Ñ‹Ñ… Ğ¼Ğ¾Ğ´ÑƒĞ»ĞµĞ¹"""
    
    name: str = "base"
    enabled: bool = True
    
    @abstractmethod
    async def get_signals(self, market_data: Dict) -> List[ModuleSignal]:
        """ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ñ‹ Ğ¾Ñ‚ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ"""
        pass
    
    @abstractmethod
    async def get_status(self) -> Dict:
        """Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ"""
        pass
```

---

### ğŸ“Š GRID BOT (app/modules/grid_bot.py)

```
ğŸ“Š Grid Bot - Ğ¡ĞµÑ‚ĞºĞ° Ğ¾Ñ€Ğ´ĞµÑ€Ğ¾Ğ² Ğ´Ğ»Ñ Ğ»ÑĞ±Ğ¾Ğ³Ğ¾ Ñ€Ñ‹Ğ½ĞºĞ°

ĞŸÑ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹:
â”œâ”€â”€ Ğ¡Ñ‚Ğ°Ğ²Ğ¸Ğ¼ BUY Ğ¾Ñ€Ğ´ĞµÑ€Ğ° Ğ½Ğ¸Ğ¶Ğµ Ñ‚ĞµĞºÑƒÑ‰ĞµĞ¹ Ñ†ĞµĞ½Ñ‹
â”œâ”€â”€ Ğ¡Ñ‚Ğ°Ğ²Ğ¸Ğ¼ SELL Ğ¾Ñ€Ğ´ĞµÑ€Ğ° Ğ²Ñ‹ÑˆĞµ Ñ‚ĞµĞºÑƒÑ‰ĞµĞ¹ Ñ†ĞµĞ½Ñ‹
â”œâ”€â”€ ĞšĞ¾Ğ³Ğ´Ğ° BUY ÑÑ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ â†’ ÑÑ‚Ğ°Ğ²Ğ¸Ğ¼ SELL Ğ²Ñ‹ÑˆĞµ
â”œâ”€â”€ ĞšĞ¾Ğ³Ğ´Ğ° SELL ÑÑ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ â†’ ÑÑ‚Ğ°Ğ²Ğ¸Ğ¼ BUY Ğ½Ğ¸Ğ¶Ğµ
â””â”€â”€ = ĞŸÑ€Ğ¾Ñ„Ğ¸Ñ‚ Ğ½Ğ° ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¼ Ğ´Ğ²Ğ¸Ğ¶ĞµĞ½Ğ¸Ğ¸!

ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ĞœĞ¾Ğ½ĞµÑ‚Ğ°  â”‚ Ğ£Ñ€Ğ¾Ğ²Ğ½ĞµĞ¹   â”‚ Ğ¨Ğ°Ğ³ %      â”‚ Ğ Ğ°Ğ·Ğ¼ĞµÑ€ $  â”‚ ĞŸÑ€Ğ¾Ñ„Ğ¸Ñ‚ % â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ BTC     â”‚ 10        â”‚ 0.3%       â”‚ $100      â”‚ 0.2%     â”‚
â”‚ ETH     â”‚ 10        â”‚ 0.4%       â”‚ $75       â”‚ 0.25%    â”‚
â”‚ ĞĞ»ÑŒÑ‚Ñ‹   â”‚ 8         â”‚ 0.5%       â”‚ $50       â”‚ 0.3%     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ğµ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ñ‹: ~5-15/Ğ´ĞµĞ½ÑŒ
```

```python
class GridBot(BaseModule):
    name = "grid_bot"
    
    # ĞœĞµÑ‚Ğ¾Ğ´Ñ‹:
    setup_grid(symbol, current_price)     # ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ ÑĞµÑ‚ĞºÑƒ
    check_orders(symbol, price)           # ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ¸ÑĞ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ
    get_signals(market_data)              # ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ñ‹
    get_status_text()                     # Ğ”Ğ»Ñ Telegram
    
# Ğ¡Ğ¸Ğ½Ğ³Ğ»Ñ‚Ğ¾Ğ½:
grid_bot = GridBot()
```

**Telegram ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°:** `/grid`

---

### ğŸ’° FUNDING SCALPER (app/modules/funding_scalper.py)

```
ğŸ’° Funding Scalper - Ğ¢Ğ¾Ñ€Ğ³Ğ¾Ğ²Ğ»Ñ Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ² Ñ‚Ğ¾Ğ»Ğ¿Ñ‹

ĞŸÑ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹:
â”œâ”€â”€ Funding > +0.05% â†’ Ğ¼Ğ½Ğ¾Ğ³Ğ¾ Ğ»Ğ¾Ğ½Ğ³Ğ¾Ğ² â†’ SHORT (Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ² Ñ‚Ğ¾Ğ»Ğ¿Ñ‹)
â”œâ”€â”€ Funding < -0.05% â†’ Ğ¼Ğ½Ğ¾Ğ³Ğ¾ ÑˆĞ¾Ñ€Ñ‚Ğ¾Ğ² â†’ LONG (Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ² Ñ‚Ğ¾Ğ»Ğ¿Ñ‹)
â””â”€â”€ Ğ‘Ğ¾Ğ½ÑƒÑ: Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµĞ¼ Funding payment ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 8 Ñ‡Ğ°ÑĞ¾Ğ²!

Timing (UTC):
â”œâ”€â”€ 00:00 - Funding #1
â”œâ”€â”€ 08:00 - Funding #2
â””â”€â”€ 16:00 - Funding #3

ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹:
â”œâ”€â”€ Ğ’Ñ…Ğ¾Ğ´ Ğ·Ğ° 45 Ğ¼Ğ¸Ğ½ Ğ´Ğ¾ Ğ½Ğ°Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ñ
â”œâ”€â”€ ĞœĞ¸Ğ½ 10 Ğ¼Ğ¸Ğ½ Ğ´Ğ¾ Ğ½Ğ°Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ñ
â”œâ”€â”€ ĞœĞ°ĞºÑ Ğ´ĞµÑ€Ğ¶Ğ°Ñ‚ÑŒ 4 Ñ‡Ğ°ÑĞ°
â”œâ”€â”€ SL: 1%
â”œâ”€â”€ TP: 1.5%
â”œâ”€â”€ Ğ Ğ°Ğ·Ğ¼ĞµÑ€: $200
â””â”€â”€ ĞœĞ°ĞºÑ 3 Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸ Ğ¾Ğ´Ğ½Ğ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾

ĞŸĞ¾Ñ€Ğ¾Ğ³Ğ¸:
â”œâ”€â”€ |Funding| > 0.1% = EXTREME â†’ x1.5 Ñ€Ğ°Ğ·Ğ¼ĞµÑ€
â”œâ”€â”€ |Funding| > 0.05% = HIGH â†’ ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚
â””â”€â”€ |Funding| < 0.05% = NEUTRAL â†’ Ğ¿Ñ€Ğ¾Ğ¿ÑƒÑĞº

ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ğµ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ñ‹: ~1-3/Ğ´ĞµĞ½ÑŒ
```

```python
class FundingScalper(BaseModule):
    name = "funding_scalper"
    
    # ĞœĞµÑ‚Ğ¾Ğ´Ñ‹:
    fetch_funding_rates()                 # ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ñ Bybit
    check_entries()                       # ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ²Ñ…Ğ¾Ğ´Ñ‹
    check_exits()                         # ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ²Ñ‹Ñ…Ğ¾Ğ´Ñ‹
    get_signals(market_data)              # ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ñ‹
    get_status_text()                     # Ğ”Ğ»Ñ Telegram
    
# Ğ¡Ğ¸Ğ½Ğ³Ğ»Ñ‚Ğ¾Ğ½:
funding_scalper = FundingScalper()
```

**Telegram ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°:** `/funding`

---

### ğŸ”„ ARBITRAGE SCANNER (app/modules/arbitrage.py)

```
ğŸ”„ Arbitrage Scanner - Ğ¢Ñ€ĞµÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ°Ñ€Ğ±Ğ¸Ñ‚Ñ€Ğ°Ğ¶

ĞŸÑ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹:
USDT â†’ BTC â†’ ETH â†’ USDT (Ğ¸ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ğ¾)

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€:
$100 USDT
  â†“ ĞºÑƒĞ¿Ğ¸Ñ‚ÑŒ BTC
0.000995 BTC
  â†“ Ğ¾Ğ±Ğ¼ĞµĞ½ÑÑ‚ÑŒ Ğ½Ğ° ETH
0.0315 ETH
  â†“ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ñ‚ÑŒ Ğ·Ğ° USDT
$100.18 USDT

ĞŸÑ€Ğ¾Ñ„Ğ¸Ñ‚: +$0.18 - ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¸ 0.3% = Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ñ‚

ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹:
â”œâ”€â”€ ĞœĞ¸Ğ½ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ñ‚: 0.15% (Ğ¿Ğ¾ÑĞ»Ğµ ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¹)
â”œâ”€â”€ ĞšĞ¾Ğ¼Ğ¸ÑÑĞ¸Ñ: 0.1% Ã— 3 = 0.3%
â”œâ”€â”€ Ğ Ğ°Ğ·Ğ¼ĞµÑ€ ÑĞ´ĞµĞ»ĞºĞ¸: $100
â”œâ”€â”€ ĞšÑƒĞ»Ğ´Ğ°ÑƒĞ½: 30 ÑĞµĞº
â”œâ”€â”€ ĞœĞ°ĞºÑ ÑĞ´ĞµĞ»Ğ¾Ğº/Ğ´ĞµĞ½ÑŒ: 50
â””â”€â”€ ĞœĞ¸Ğ½ Ğ¾Ğ±ÑŠÑ‘Ğ¼: $1000 Ğ² ÑÑ‚Ğ°ĞºĞ°Ğ½Ğµ

ĞœĞ¾Ğ½ĞµÑ‚Ñ‹: BTC, ETH, SOL, BNB, XRP, ADA, DOGE, LINK, AVAX, MATIC

ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ğµ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ñ‹: ~0-5/Ğ´ĞµĞ½ÑŒ (Ñ€ĞµĞ´ĞºĞ¾ Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ğ»ÑŒĞ½Ğ¾ Ğ½Ğ° Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ğ±Ğ¸Ñ€Ğ¶Ğµ!)
```

```python
class ArbitrageScanner(BaseModule):
    name = "arbitrage"
    
    # ĞœĞµÑ‚Ğ¾Ğ´Ñ‹:
    fetch_available_pairs()               # ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ¿Ğ°Ñ€Ñ‹
    fetch_orderbook_prices()              # ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ bid/ask
    scan_opportunities()                  # ĞĞ°Ğ¹Ñ‚Ğ¸ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸
    execute_arbitrage(arb)                # Ğ˜ÑĞ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ
    get_signals(market_data)              # ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ñ‹
    get_status_text()                     # Ğ”Ğ»Ñ Telegram
    
# Ğ¡Ğ¸Ğ½Ğ³Ğ»Ñ‚Ğ¾Ğ½:
arbitrage_scanner = ArbitrageScanner()
```

**Telegram ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°:** `/arb`

---

### ğŸ†• LISTING HUNTER (app/modules/listing_hunter.py)

```
ğŸ†• Listing Hunter - ĞÑ…Ğ¾Ñ‚Ğ½Ğ¸Ğº Ğ·Ğ° Ğ»Ğ¸ÑÑ‚Ğ¸Ğ½Ğ³Ğ°Ğ¼Ğ¸

Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¸:
â”œâ”€â”€ Binance Announcements
â”œâ”€â”€ Bybit Announcements
â”œâ”€â”€ CoinMarketCap New Listings
â””â”€â”€ CoinGecko Recently Added

Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ        â”‚ ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ                â”‚ Ğ”ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PRE_LISTING      â”‚ ĞĞ½Ğ¾Ğ½Ñ Ğ»Ğ¸ÑÑ‚Ğ¸Ğ½Ğ³Ğ°          â”‚ Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğµ   â”‚
â”‚                  â”‚ (Ğ¼Ğ¾Ğ½ĞµÑ‚Ğ° ĞµÑ‰Ñ‘ Ğ½Ğµ Ñ‚Ğ¾Ñ€Ğ³ÑƒĞµÑ‚ÑÑ)â”‚ + Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ LISTING_SCALP    â”‚ Ğ¢Ğ¾Ñ€Ğ³Ğ¾Ğ²Ğ»Ñ Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ°ÑÑŒ!      â”‚ ĞĞ²Ñ‚Ğ¾-Ñ‚Ğ¾Ñ€Ğ³Ğ¾Ğ²Ğ»Ñ â”‚
â”‚                  â”‚ (Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ ĞºÑƒĞ¿Ğ¸Ñ‚ÑŒ Ğ½Ğ° Bybit)  â”‚ Ğ¸Ğ»Ğ¸ ÑĞ¸Ğ³Ğ½Ğ°Ğ»    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ LAUNCHPAD        â”‚ ĞĞ¾Ğ²Ñ‹Ğ¹ Launchpad         â”‚ Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğµ   â”‚
â”‚                  â”‚ (Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ñ‹Ğµ Ñ‚Ğ¾ĞºĞµĞ½Ñ‹)      â”‚ + Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Ğ ĞµĞ¶Ğ¸Ğ¼Ñ‹:
â”œâ”€â”€ signal â€” Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ (Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ)
â””â”€â”€ auto â€” Ğ°Ğ²Ñ‚Ğ¾-Ñ‚Ğ¾Ñ€Ğ³Ğ¾Ğ²Ğ»Ñ Ğ¿Ñ€Ğ¸ Ğ»Ğ¸ÑÑ‚Ğ¸Ğ½Ğ³Ğ°Ñ… Ğ½Ğ° Bybit

ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ (auto Ñ€ĞµĞ¶Ğ¸Ğ¼):
â”œâ”€â”€ Trade size: $50
â”œâ”€â”€ TP: +20%
â”œâ”€â”€ SL: -5%
â”œâ”€â”€ Max hold: 60 Ğ¼Ğ¸Ğ½
â””â”€â”€ Max trades/day: 5

ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ğµ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ñ‹: ~1-5/Ğ´ĞµĞ½ÑŒ
```

```python
class ListingHunter(BaseModule):
    name = "listing_hunter"
    
    # ĞœĞµÑ‚Ğ¾Ğ´Ñ‹:
    check_binance_announcements()         # ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Binance
    check_bybit_announcements()           # ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Bybit
    check_coinmarketcap()                 # ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ CMC
    process_listing(listing)              # ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ Ğ»Ğ¸ÑÑ‚Ğ¸Ğ½Ğ³
    _execute_scalp_trade(listing)         # Ğ¡ĞºĞ°Ğ»ÑŒĞ¿-ÑĞ´ĞµĞ»ĞºĞ°
    get_signals(market_data)              # ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ñ‹
    get_status_text()                     # Ğ”Ğ»Ñ Telegram
    set_mode(mode)                        # Ğ¡Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ñ€ĞµĞ¶Ğ¸Ğ¼
    
# Ğ¡Ğ¸Ğ½Ğ³Ğ»Ñ‚Ğ¾Ğ½:
listing_hunter = ListingHunter()
```

**Telegram ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹:**
- `/listing` â€” ÑÑ‚Ğ°Ñ‚ÑƒÑ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ
- `/listing_mode auto` â€” Ğ°Ğ²Ñ‚Ğ¾-Ñ‚Ğ¾Ñ€Ğ³Ğ¾Ğ²Ğ»Ñ
- `/listing_mode signal` â€” Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ñ‹

---

### ğŸ“Š Ğ˜Ğ¢ĞĞ“Ğ Ğ’Ğ¡Ğ• ĞœĞĞ”Ğ£Ğ›Ğ˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Ğ¡Ğ˜Ğ“ĞĞĞ›Ğ« Ğ’ Ğ”Ğ•ĞĞ¬                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ĞœĞ¾Ğ´ÑƒĞ»ÑŒ              â”‚ Ğ¡Ğ¸Ğ³Ğ½Ğ°Ğ»Ğ¾Ğ²     â”‚ ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ© Director         â”‚ 2-5          â”‚ Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ñ€Ğ¸ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸ÑÑ…  â”‚
â”‚ ğŸ“Š Grid Bot         â”‚ 5-15         â”‚ Ğ’ Ğ±Ğ¾ĞºĞ¾Ğ²Ğ¸ĞºĞµ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ    â”‚
â”‚ ğŸ’° Funding Scalper  â”‚ 1-3          â”‚ ĞšĞ°Ğ¶Ğ´Ñ‹Ğµ 8 Ñ‡Ğ°ÑĞ¾Ğ²       â”‚
â”‚ ğŸ”„ Arbitrage        â”‚ 0-5          â”‚ Ğ ĞµĞ´ĞºĞ¾ Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ğ»ÑŒĞ½Ğ¾      â”‚
â”‚ ğŸ†• Listing Hunter   â”‚ 1-5          â”‚ ĞĞ¾Ğ²Ñ‹Ğµ Ğ»Ğ¸ÑÑ‚Ğ¸Ğ½Ğ³Ğ¸       â”‚
â”‚ ğŸ‘· Worker           â”‚ 1-3          â”‚ Ğ–Ğ´Ñ‘Ñ‚ RSI < 30        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Ğ˜Ğ¢ĞĞ“Ğ               â”‚ 10-36        â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ ĞšĞ›Ğ®Ğ§Ğ•Ğ’Ğ«Ğ• ĞœĞĞ”Ğ£Ğ›Ğ˜

### 1ï¸âƒ£ app/main.py â€” Ğ¢ĞĞ§ĞšĞ Ğ’Ğ¥ĞĞ”Ğ

```python
# Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ 3 Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸ Ğ¿Ğ°Ñ€Ğ°Ğ»Ğ»ĞµĞ»ÑŒĞ½Ğ¾:
async def main():
    # 1. Telegram Bot polling
    bot_task = telegram_bot.start_polling()
    
    # 2. Flask WebApp Ğ½Ğ° Ğ¿Ğ¾Ñ€Ñ‚Ñƒ 5000
    webapp_task = run_webapp()
    
    # 3. MarketMonitor ĞĞ• Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ÑÑ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸
    #    Ğ–Ğ´Ñ‘Ñ‚ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñƒ /run Ğ¸Ğ»Ğ¸ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ Ğ² WebApp
    
    await asyncio.gather(bot_task, webapp_task)

# Ğ—Ğ°Ğ¿ÑƒÑĞº:
# python -m app.main
# supervisorctl start crypto-bot
```

### 2ï¸âƒ£ app/core/monitor.py â€” Ğ“Ğ›ĞĞ’ĞĞ«Ğ™ Ğ¦Ğ˜ĞšĞ›

```python
class MarketMonitor:
    """
    24/7 Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ñ€Ñ‹Ğ½ĞºĞ°
    
    ĞÑ‚Ñ€Ğ¸Ğ±ÑƒÑ‚Ñ‹:
    - running: bool = False
    - check_interval: int = 60  # ÑĞµĞºÑƒĞ½Ğ´
    - paper_trading: bool = True
    - current_balance: float = 1000.0
    - balance_percent_per_trade: float = 0.15  # 15%
    - max_open_trades: int = 6
    - ai_enabled: bool = True
    - min_confidence: int = 60
    - symbols: List[str] = []
    
    Ğ¦Ğ¸ĞºĞ» _main_cycle() ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 60 ÑĞµĞº:
    1. ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ñ†ĞµĞ½Ñ‹: await self.bybit.get_prices(symbols)
    2. ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Whale AI Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸ (Ñ€Ğ°Ğ· Ğ² 5 Ğ¼Ğ¸Ğ½)
    3. ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚Ğ¸ (Ñ€Ğ°Ğ· Ğ² 5 Ğ¼Ğ¸Ğ½)
    4. ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ ÑĞ´ĞµĞ»ĞºĞ¸: trade_manager.update_prices(prices)
    5. AI Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸: _check_active_positions_with_ai()
    6. Ğ˜Ñ‰ĞµĞ¼ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ñ‹: _check_for_signals()
    
    ĞœĞµÑ‚Ğ¾Ğ´Ñ‹:
    - start() â†’ Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ
    - stop() â†’ Ğ¾ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ
    - get_trade_size() â†’ 15% Ğ¾Ñ‚ Ğ±Ğ°Ğ»Ğ°Ğ½ÑĞ°
    - can_open_new_trade() â†’ (bool, reason)
    - update_balance_after_close(pnl) â†’ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ±Ğ°Ğ»Ğ°Ğ½Ñ
    
    Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ:
    - _notify_director_trade(trade, reason)
    - _notify_grid_trade(signal)
    - _notify_funding_trade(signal)
    - _notify_arbitrage_trade(signal)
    """

# Ğ¡Ğ¸Ğ½Ğ³Ğ»Ñ‚Ğ¾Ğ½:
market_monitor = MarketMonitor()
```

### 3ï¸âƒ£ app/strategies/config.py â€” ĞšĞĞĞ¤Ğ˜Ğ“ Ğ¡Ğ¢Ğ ĞĞ¢Ğ•Ğ“Ğ˜Ğ™

```python
@dataclass
class StrategyConfig:
    id: str
    name: str
    symbol: str
    direction: str  # "LONG" | "SHORT"
    conditions: List[Dict]
    tp_percent: float = 0.5
    sl_percent: float = 0.5
    win_rate_2024: float = 0.0
    avg_win_rate: float = 0.0
    enabled: bool = True
    max_signals_per_day: int = 3

# LONG ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸ (9 ÑˆÑ‚):
BEST_STRATEGIES = {
    "BTC": StrategyConfig(
        name="RSI(14) < 30 + Price > EMA(21)",
        direction="LONG",
        conditions=[
            {"indicator": "rsi", "period": 14, "operator": "<", "value": 30},
            {"indicator": "price_vs_ema", "period": 21, "operator": ">", "value": 0},
        ],
        win_rate_2024=65.7,
    ),
    "ETH": StrategyConfig(...),
    "BNB": StrategyConfig(...),
    "SOL": StrategyConfig(...),  # SHORT!
    "XRP": StrategyConfig(...),  # SHORT!
    "ADA": StrategyConfig(...),
    "DOGE": StrategyConfig(...),
    "LINK": StrategyConfig(...),
    "AVAX": StrategyConfig(...),
}

# SHORT ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸ (8 ÑˆÑ‚):
SHORT_STRATEGIES = {
    "BTC_SHORT": StrategyConfig(
        name="Stoch Reversal Short",
        direction="SHORT",
        conditions=[
            {"indicator": "stoch_k", "operator": ">", "value": 80},
            {"indicator": "stoch_cross_down", "value": True},
        ],
    ),
    # ETH_SHORT, SOL_SHORT, ADA_SHORT, LINK_SHORT, AVAX_SHORT, BNB_SHORT
}

# Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸:
get_strategy(symbol) â†’ StrategyConfig
get_all_strategies() â†’ Dict[str, StrategyConfig]  # LONG + SHORT
get_enabled_strategies() â†’ Dict[str, StrategyConfig]
```

### 4ï¸âƒ£ app/trading/trade_manager.py â€” Ğ¡Ğ”Ğ•Ğ›ĞšĞ˜

```python
class TradeStatus(Enum):
    PENDING = "pending"
    OPEN = "open"
    CLOSED = "closed"
    CANCELLED = "cancelled"

class CloseReason(Enum):
    TAKE_PROFIT = "take_profit"
    STOP_LOSS = "stop_loss"
    TRAILING_STOP = "trailing_stop"
    MANUAL = "manual"
    EXPIRED = "expired"

@dataclass
class Trade:
    id: str
    symbol: str
    direction: str  # "LONG" | "SHORT"
    entry_price: float
    current_price: float
    stop_loss: float
    take_profit: float
    
    # Trailing Stop:
    trailing_stop_enabled: bool = True
    trailing_stop_percent: float = 0.3  # ĞĞºÑ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ÑĞ»Ğµ +0.3%
    trailing_stop_distance: float = 0.2  # Ğ”Ğ¸ÑÑ‚Ğ°Ğ½Ñ†Ğ¸Ñ 0.2%
    highest_price: float = 0.0  # Ğ”Ğ»Ñ LONG
    lowest_price: float = inf   # Ğ”Ğ»Ñ SHORT
    trailing_stop_price: Optional[float] = None
    
    # P&L:
    unrealized_pnl: float = 0.0
    unrealized_pnl_percent: float = 0.0
    
    # ĞœĞµÑ‚Ğ¾Ğ´Ñ‹:
    update_price(new_price)  # ĞŸĞµÑ€ĞµÑÑ‡Ñ‘Ñ‚ P&L + trailing
    should_close() â†’ Optional[CloseReason]

class TradeManager:
    """
    Ğ›Ğ¸Ğ¼Ğ¸Ñ‚Ñ‹:
    - max_trades_per_symbol: 1
    - max_total_trades: 6
    - default_trade_value: 15% Ğ¾Ñ‚ Ğ±Ğ°Ğ»Ğ°Ğ½ÑĞ°
    
    ĞœĞµÑ‚Ğ¾Ğ´Ñ‹:
    - open_trade(signal, value) â†’ Trade
    - close_trade(trade_id, reason) â†’ Trade
    - update_prices(prices) â†’ List[Trade]  # Ğ·Ğ°ĞºÑ€Ñ‹Ñ‚Ñ‹Ğµ
    - get_active_trades() â†’ List[Trade]
    - get_statistics() â†’ dict
    """

# Ğ¡Ğ¸Ğ½Ğ³Ğ»Ñ‚Ğ¾Ğ½:
trade_manager = TradeManager()
```

### 5ï¸âƒ£ app/trading/bybit/client.py â€” BYBIT API

```python
class BybitClient:
    """
    Bybit V5 API ĞºĞ»Ğ¸ĞµĞ½Ñ‚
    
    Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ:
    - api_key, api_secret Ğ¸Ğ· settings
    - testnet: bool
    - base_url: https://api.bybit.com Ğ¸Ğ»Ğ¸ testnet
    
    ĞŸÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ğ¼ĞµÑ‚Ğ¾Ğ´Ñ‹:
    - get_price(symbol) â†’ float
    - get_prices(symbols) â†’ Dict[str, float]
    - get_all_spot_prices() â†’ Dict[str, float]
    
    ĞŸÑ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ñ‹Ğµ Ğ¼ĞµÑ‚Ğ¾Ğ´Ñ‹ (Ñ‚Ñ€ĞµĞ±ÑƒÑÑ‚ ĞºĞ»ÑÑ‡Ğ¸):
    - get_balance(coin) â†’ float
    - get_all_balances() â†’ Dict[str, float]
    - market_buy(symbol, quote_qty) â†’ dict
    - market_sell(symbol, base_qty) â†’ dict
    - get_order(order_id) â†’ dict
    - get_open_orders(symbol) â†’ List[dict]
    - cancel_order(order_id) â†’ dict
    """

# Ğ¡Ğ¸Ğ½Ğ³Ğ»Ñ‚Ğ¾Ğ½:
bybit_client = BybitClient()
```

---

## ğŸ“± TELEGRAM BOT

### Ğ¤Ğ°Ğ¹Ğ»: app/notifications/telegram_bot.py

```python
class TelegramBot:
    """
    Telegram Ğ±Ğ¾Ñ‚ Ñ Reply Keyboard
    
    ĞÑ‚Ñ€Ğ¸Ğ±ÑƒÑ‚Ñ‹:
    - bot: aiogram.Bot
    - dp: aiogram.Dispatcher
    - admin_id: int (Ğ¸Ğ· settings)
    - _monitor: MarketMonitor
    - _trade_manager: TradeManager
    """
```

### ĞšĞĞœĞĞĞ”Ğ«:

| ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ | Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ |
|---------|----------|---------|
| `/start` | Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ | `cmd_start()` |
| `/help` | ĞŸĞ¾Ğ¼Ğ¾Ñ‰ÑŒ | `cmd_help()` |
| `/debug` | Ğ”Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºĞ° | `cmd_debug()` |
| `/whale` | Whale AI | `cmd_whale()` |
| `/grid` | ğŸ“Š Grid Bot | `cmd_grid()` |
| `/funding` | ğŸ’° Funding Scalper | `cmd_funding()` |
| `/arb` | ğŸ”„ Arbitrage | `cmd_arbitrage()` |
| `/listing` | ğŸ†• Listing Hunter | `cmd_listing()` |
| `/listing_mode` | Ğ ĞµĞ¶Ğ¸Ğ¼ Listing Hunter | `cmd_listing_mode()` |
| `/director` | Director AI | `cmd_director()` |
| `/director_trades` | Ğ¡Ğ´ĞµĞ»ĞºĞ¸ Director | `cmd_director_trades()` |
| `/market` | ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ Ñ€Ñ‹Ğ½Ğ¾Ğº | `cmd_market()` |
| `/ai` | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ AI ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹ | `cmd_ai_status()` |

### REPLY KEYBOARD ĞšĞĞĞŸĞšĞ˜:

| ĞšĞ½Ğ¾Ğ¿ĞºĞ° | Ğ”ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ | Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ |
|--------|----------|---------|
| ğŸ› ĞŸĞ°Ğ½ĞµĞ»ÑŒ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ | ĞÑ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ WebApp | `WebAppInfo(url=...)` |
| ğŸ“Š Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ±Ğ¾Ñ‚Ğ° | `btn_status()` |
| ğŸ“ˆ Ğ¡Ğ´ĞµĞ»ĞºĞ¸ | ĞĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ ÑĞ´ĞµĞ»ĞºĞ¸ | `btn_trades()` |
| ğŸ“° ĞĞ¾Ğ²Ğ¾ÑÑ‚Ğ¸ | ĞĞ¾Ğ²Ğ¾ÑÑ‚Ğ¸ Ñ€Ñ‹Ğ½ĞºĞ° | `btn_news()` |
| ğŸ“‹ Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ | Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚Ñ‹Ğµ ÑĞ´ĞµĞ»ĞºĞ¸ | `btn_history()` |
| â“ ĞŸĞ¾Ğ¼Ğ¾Ñ‰ÑŒ | Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ | `btn_help()` |

### WEBAPP DATA HANDLER:

```python
@self.dp.message(F.web_app_data)
async def handle_webapp_data(message):
    data = json.loads(message.web_app_data.data)
    action = data.get('action')
    
    if action == 'start_bot':
        settings_data = data.get('settings', {})
        self._apply_settings(settings_data)
        await self.monitor.start()
    
    elif action == 'stop_bot':
        await self.monitor.stop()
    
    elif action == 'update_settings':
        self._apply_settings(data.get('settings', {}))
```

### Ğ£Ğ’Ğ•Ğ”ĞĞœĞ›Ğ•ĞĞ˜Ğ¯:

```python
# ĞœĞµÑ‚Ğ¾Ğ´Ñ‹ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ¸:
await telegram_bot.send_message(text)
await telegram_bot.notify_signal(signal)
await telegram_bot.notify_trade_opened(trade)
await telegram_bot.notify_trade_closed(trade)
await telegram_bot.notify_ai_decision(decision)
await telegram_bot.notify_error(error)
```

---

## ğŸŒ WEBAPP

### URL: https://app.cryptoden.ru

### Ğ¤Ğ°Ğ¹Ğ»: app/webapp/server.py

```python
# Flask Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ
app = Flask(__name__)

# Endpoints:
@app.route('/')  # GET â†’ webapp.html
@app.route('/api/bot-status')  # GET â†’ JSON ÑÑ‚Ğ°Ñ‚ÑƒÑ
@app.route('/api/start', methods=['POST'])  # Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ±Ğ¾Ñ‚Ğ°
@app.route('/api/stop', methods=['POST'])  # ĞÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ±Ğ¾Ñ‚Ğ°
@app.route('/api/settings')  # GET â†’ Ñ‚ĞµĞºÑƒÑ‰Ğ¸Ğµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸
```

### Ğ¤Ğ°Ğ¹Ğ»: app/webapp/templates/webapp.html

### Ğ¡Ğ¢Ğ Ğ£ĞšĞ¢Ğ£Ğ Ğ UI:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ğŸ¤– CryptoDen               â”‚
â”‚      Professional AI Trading Bot        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  ğŸ”´/ğŸŸ¢ Ğ‘ĞĞ¢ ĞĞ¡Ğ¢ĞĞĞĞ’Ğ›Ğ•Ğ/Ğ ĞĞ‘ĞĞ¢ĞĞ•Ğ¢  â”‚   â”‚
â”‚   â”‚  ğŸ’° $1,000 | ğŸ“Š 0 ÑĞ´ĞµĞ»Ğ¾Ğº        â”‚   â”‚
â”‚   â”‚                                 â”‚   â”‚
â”‚   â”‚  [ğŸš€ Ğ—ĞĞŸĞ£Ğ¡Ğ¢Ğ˜Ğ¢Ğ¬ / ğŸ›‘ ĞĞ¡Ğ¢ĞĞĞĞ’Ğ˜Ğ¢Ğ¬] â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“‚ API ĞšĞ»ÑÑ‡Ğ¸ (â–¼ Ñ€Ğ°ÑĞºÑ€Ñ‹Ñ‚ÑŒ)               â”‚
â”‚   â€¢ API Key: [____________]             â”‚
â”‚   â€¢ Secret: [____________]              â”‚
â”‚   â€¢ [ğŸ§ª Testnet] [ğŸ’° Mainnet]           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“‚ ĞœĞ¾Ğ½ĞµÑ‚Ñ‹ (â–¼)                           â”‚
â”‚   [BTC âœ“] [ETH âœ“] [BNB âœ“]               â”‚
â”‚   [SOL âœ“] [XRP âœ“] [ADA âœ“]               â”‚
â”‚   [DOGEâœ“] [LINKâ€”] [AVAXâ€”]               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“‚ Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ€Ğ¸ÑĞºĞ°Ğ¼Ğ¸ (â–¼)               â”‚
â”‚   Ğ Ğ°Ğ·Ğ¼ĞµÑ€ ÑĞ´ĞµĞ»ĞºĞ¸: [====â—====] 15%        â”‚
â”‚   ĞœĞ°ĞºÑ. ÑĞ´ĞµĞ»Ğ¾Ğº:  [====â—====] 6          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“‚ AI ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ (â–¼)                     â”‚
â”‚   [âœ… AI Ğ’ĞºĞ»ÑÑ‡Ñ‘Ğ½] [âŒ Ğ‘ĞµĞ· AI]           â”‚
â”‚   ĞœĞ¸Ğ½. ÑƒĞ²ĞµÑ€ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ: [===â—===] 60%       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“‚ Ğ ĞµĞ¶Ğ¸Ğ¼ Ñ‚Ğ¾Ñ€Ğ³Ğ¾Ğ²Ğ»Ğ¸ (â–¼)                   â”‚
â”‚   [ğŸ“ Paper âœ“] [ğŸ’° Live]                â”‚
â”‚   âš ï¸ LIVE Ñ€ĞµĞ¶Ğ¸Ğ¼ Ñ‚Ğ¾Ñ€Ğ³ÑƒĞµÑ‚ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğ¼Ğ¸ $!    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¤– AI Ğ¡Ğ˜Ğ¡Ğ¢Ğ•ĞœĞ

### Ğ˜ĞµÑ€Ğ°Ñ€Ñ…Ğ¸Ñ AI Ğ°Ğ³ĞµĞ½Ñ‚Ğ¾Ğ²:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           DIRECTOR AI (Ğ”Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€)        â”‚
â”‚           ğŸ© Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ     â”‚
â”‚                                         â”‚
â”‚   Ğ’Ñ…Ğ¾Ğ´Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ:                       â”‚
â”‚   - Whale AI Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸                    â”‚
â”‚   - News AI ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚                    â”‚
â”‚   - ĞÑ‚ĞºÑ€Ñ‹Ñ‚Ñ‹Ğµ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸                    â”‚
â”‚                                         â”‚
â”‚   Ğ’Ñ‹Ñ…Ğ¾Ğ´Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹:                     â”‚
â”‚   - CONTINUE (Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ°Ñ‚ÑŒ)               â”‚
â”‚   - CLOSE_ALL (Ğ·Ğ°ĞºÑ€Ñ‹Ñ‚ÑŒ Ğ²ÑÑ‘)             â”‚
â”‚   - CLOSE_LONGS (Ğ·Ğ°ĞºÑ€Ñ‹Ñ‚ÑŒ Ğ»Ğ¾Ğ½Ğ³Ğ¸)         â”‚
â”‚   - CLOSE_SHORTS (Ğ·Ğ°ĞºÑ€Ñ‹Ñ‚ÑŒ ÑˆĞ¾Ñ€Ñ‚Ñ‹)        â”‚
â”‚   - PAUSE_NEW (Ğ½Ğµ Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğµ)      â”‚
â”‚   - TAKE_CONTROL (Ñ€ÑƒÑ‡Ğ½Ğ¾Ğµ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           WHALE AI (Ğ”Ñ€ÑƒĞ³)               â”‚
â”‚           ğŸ‹ Ğ Ñ‹Ğ½Ğ¾Ñ‡Ğ½Ğ°Ñ Ñ€Ğ°Ğ·Ğ²ĞµĞ´ĞºĞ°          â”‚
â”‚                                         â”‚
â”‚   ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ¸:                              â”‚
â”‚   - Open Interest (OI)                  â”‚
â”‚   - Funding Rate                        â”‚
â”‚   - Long/Short Ratio                    â”‚
â”‚   - Fear & Greed Index                  â”‚
â”‚   - Ğ›Ğ¸ĞºĞ²Ğ¸Ğ´Ğ°Ñ†Ğ¸Ğ¸                          â”‚
â”‚                                         â”‚
â”‚   Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¸:                            â”‚
â”‚   - Bybit API                           â”‚
â”‚   - Coinglass (fallback)                â”‚
â”‚   - Alternative.me (F&G)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           TECH AI (Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ½Ğ¸Ğº)            â”‚
â”‚           ğŸ“Š Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·         â”‚
â”‚                                         â”‚
â”‚   - StrategyChecker                     â”‚
â”‚   - RSI, EMA, MACD, Stoch               â”‚
â”‚   - Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ğ¾Ğ²                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           TRADING AI (Brain)            â”‚
â”‚           ğŸ§  Ğ¤Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ          â”‚
â”‚                                         â”‚
â”‚   ĞœĞ¾Ğ´ĞµĞ»ÑŒ: Claude Sonnet 4               â”‚
â”‚   Ğ”ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ:                             â”‚
â”‚   - OPEN_LONG                           â”‚
â”‚   - OPEN_SHORT                          â”‚
â”‚   - CLOSE                               â”‚
â”‚   - ADJUST_SL                           â”‚
â”‚   - ADJUST_TP                           â”‚
â”‚   - WAIT                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### app/ai/director_ai.py

```python
class DirectorAI:
    """
    Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ
    
    TradingMode:
    - AUTO (Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚)
    - SUPERVISED (Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ñ)
    - MANUAL (Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ)
    - PAUSED (Ğ¿Ğ°ÑƒĞ·Ğ°)
    
    DirectorDecision:
    - CONTINUE
    - CLOSE_ALL
    - CLOSE_LONGS
    - CLOSE_SHORTS
    - PAUSE_NEW
    - TAKE_CONTROL
    - AGGRESSIVE_LONG
    - AGGRESSIVE_SHORT
    """

# Ğ¡Ğ¸Ğ½Ğ³Ğ»Ñ‚Ğ¾Ğ½:
director_ai = DirectorAI()


class DirectorTrader:
    """
    ğŸ© Director ĞºĞ°Ğº Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ Ñ‚Ñ€ĞµĞ¹Ğ´ĞµÑ€ (TAKE_CONTROL)
    
    ĞœĞ¾Ğ¶ĞµÑ‚ Ñ‚Ğ¾Ñ€Ğ³Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¡ĞĞœ, Ğ±ĞµĞ· Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ½Ğ¸ĞºĞ°!
    
    Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¸ TAKE_CONTROL:
    1. Fear & Greed < 20 + Ğ±Ñ‹Ñ‡ÑŒĞ¸ Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚Ğ¸ â†’ LONG
    2. Fear & Greed > 80 + Ğ¼ĞµĞ´Ğ²ĞµĞ¶ÑŒĞ¸ Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚Ğ¸ â†’ SHORT
    3. ĞœĞ°ÑÑĞ¾Ğ²Ñ‹Ğµ Ğ»Ğ¸ĞºĞ²Ğ¸Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ»Ğ¾Ğ½Ğ³Ğ¾Ğ² ($50M+) â†’ LONG
    4. ĞœĞ°ÑÑĞ¾Ğ²Ñ‹Ğµ Ğ»Ğ¸ĞºĞ²Ğ¸Ğ´Ğ°Ñ†Ğ¸Ğ¸ ÑˆĞ¾Ñ€Ñ‚Ğ¾Ğ² ($50M+) â†’ SHORT
    5. Funding > 0.1% + Long Ratio > 70% â†’ SHORT
    6. Funding < -0.1% + Long Ratio < 30% â†’ LONG
    7. Extreme Fear (<15) + Ğ¼Ğ°Ğ»Ğ¾ Ğ»Ğ¾Ğ½Ğ³Ğ¾Ğ² (<35%) â†’ LONG
    
    ĞœĞµÑ‚Ğ¾Ğ´Ñ‹:
    - should_take_control(whale, news, market) â†’ (bool, direction, reason)
    - execute_trade(symbol, direction, reason) â†’ DirectorTrade
    - _manage_trade(trade) â†’ Ñ†Ğ¸ĞºĞ» ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 10 ÑĞµĞº
    - _update_trailing_stop(trade, price) â†’ Ğ¿ĞµÑ€ĞµĞ´Ğ²Ğ¸Ğ³Ğ°ĞµÑ‚ SL
    - _check_news_exit(trade) â†’ Ğ²Ñ‹Ñ…Ğ¾Ğ´ Ğ¿Ğ¾ Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚ÑĞ¼
    - _check_whale_exit(trade) â†’ Ğ²Ñ‹Ñ…Ğ¾Ğ´ Ğ¿Ğ¾ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ°Ğ¼
    - close_all_director_trades(reason)
    - get_status() â†’ dict
    """

# Ğ¡Ğ¸Ğ½Ğ³Ğ»Ñ‚Ğ¾Ğ½:
director_trader = DirectorTrader()
```

---

## ğŸ“Š Ğ¡Ğ¢Ğ ĞĞ¢Ğ•Ğ“Ğ˜Ğ˜

### LONG ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸:

| ĞœĞ¾Ğ½ĞµÑ‚Ğ° | Ğ£ÑĞ»Ğ¾Ğ²Ğ¸Ñ | Win Rate |
|--------|---------|----------|
| BTC | RSI(14) < 30 + Price > EMA(21) | 65.7% |
| ETH | RSI(14) < 35 + Price > EMA(50) | 63.4% |
| BNB | RSI < 30 + Price > EMA50 + Volume | 74.4% |
| ADA | RSI(14) < 30 + Price > EMA(21) | 73.2% |
| DOGE | Stoch(14) < 25 + MACD Cross Up | 70.0% |
| LINK | RSI(14) < 30 + Price > EMA(50) | 68.3% |
| AVAX | RSI(14) < 30 + Price > EMA(21) | 73.7% |

### SHORT ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸ (SOL, XRP):

| ĞœĞ¾Ğ½ĞµÑ‚Ğ° | Ğ£ÑĞ»Ğ¾Ğ²Ğ¸Ñ | Win Rate |
|--------|---------|----------|
| SOL | RSI(21) > 80 | 66.2% |
| XRP | RSI(14) > 80 | 64.1% |

### Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ SHORT:

| ID | Ğ£ÑĞ»Ğ¾Ğ²Ğ¸Ñ |
|----|---------|
| STOCH_REVERSAL | Stoch K > 80 + crossing down |
| STOCH_EMA_RSI | Stoch > 75 + Price < EMA50 + RSI > 65 |
| STOCH_MACD | Stoch > 80 + MACD hist < 0 |

---

## ğŸ’° Ğ¢ĞĞ Ğ“ĞĞ’Ğ›Ğ¯

### ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ°:

```
âœ… Ğ Ğ°Ğ·Ğ¼ĞµÑ€ ÑĞ´ĞµĞ»ĞºĞ¸ = 15% Ğ¾Ñ‚ Ğ±Ğ°Ğ»Ğ°Ğ½ÑĞ°
âœ… ĞœĞ°ĞºÑĞ¸Ğ¼ÑƒĞ¼ 6 Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ñ‹Ñ… ÑĞ´ĞµĞ»Ğ¾Ğº
âœ… 1 ÑĞ´ĞµĞ»ĞºĞ° Ğ½Ğ° ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»
âœ… Paper mode Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ

ğŸ“Š Trailing Stop:
â”œâ”€â”€ ĞĞºÑ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ñ: Ğ¿Ğ¾ÑĞ»Ğµ +0.3% Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ğ»Ğ¸
â”œâ”€â”€ Ğ”Ğ¸ÑÑ‚Ğ°Ğ½Ñ†Ğ¸Ñ: 0.2%
â””â”€â”€ Ğ”Ğ²Ğ¸Ğ³Ğ°ĞµÑ‚ÑÑ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ² ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ñƒ Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ğ»Ğ¸

ğŸ“Š SL/TP:
â”œâ”€â”€ Stop Loss: 0.5%
â””â”€â”€ Take Profit: 0.5%
```

### ĞšĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¸ Bybit (Ğ´Ğ»Ñ Ğ±ÑĞºÑ‚ĞµÑÑ‚Ğ°):

```
â”œâ”€â”€ Taker Fee: 0.055%
â”œâ”€â”€ Maker Fee: 0.02%
â”œâ”€â”€ Funding Rate: 0.01% ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 8Ñ‡
â””â”€â”€ ĞŸÑ€Ğ¸ Ğ¿Ğ»ĞµÑ‡Ğµ ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¸ Ã— leverage!
```

---

## ğŸ”‘ ĞŸĞ•Ğ Ğ•ĞœĞ•ĞĞĞ«Ğ• ĞĞšĞ Ğ£Ğ–Ğ•ĞĞ˜Ğ¯

### Ğ¤Ğ°Ğ¹Ğ»: /root/crypto-bot/.env

```bash
# === TELEGRAM ===
TELEGRAM_BOT_TOKEN=7xxx:AAHxxx
ADMIN_CHAT_ID=123456789

# === BYBIT ===
BYBIT_API_KEY=xxxxxx
BYBIT_API_SECRET=xxxxxx
BYBIT_TESTNET=true

# === AI (OpenRouter) ===
OPENROUTER_API_KEY=sk-or-xxx

# === NEWS ===
CRYPTOCOMPARE_API_KEY=xxxxx
COINGECKO_API_KEY=xxxxx  # Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾

# === WEBAPP ===
WEBAPP_URL=https://app.cryptoden.ru
```

### Ğ¤Ğ°Ğ¹Ğ»: app/core/config.py

```python
class Settings(BaseSettings):
    telegram_bot_token: str
    admin_chat_id: int
    bybit_api_key: str
    bybit_api_secret: str
    bybit_testnet: bool = True
    openrouter_api_key: str
    cryptocompare_api_key: str
    coingecko_api_key: str = ""
    webapp_url: str
    ai_model: str = "anthropic/claude-sonnet-4"
    
    class Config:
        env_file = ".env"

settings = Settings()
```

---

## ğŸ› ï¸ ĞšĞĞœĞĞĞ”Ğ« Ğ£ĞŸĞ ĞĞ’Ğ›Ğ•ĞĞ˜Ğ¯

### Supervisor:

```bash
supervisorctl status              # Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ
supervisorctl start crypto-bot    # Ğ¡Ñ‚Ğ°Ñ€Ñ‚
supervisorctl stop crypto-bot     # Ğ¡Ñ‚Ğ¾Ğ¿
supervisorctl restart crypto-bot  # Ğ ĞµÑÑ‚Ğ°Ñ€Ñ‚
supervisorctl tail -f crypto-bot stderr  # Ğ›Ğ¾Ğ³Ğ¸
```

### Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ğ° `bot`:

```bash
bot status    # Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ
bot start     # Ğ¡Ñ‚Ğ°Ñ€Ñ‚
bot stop      # Ğ¡Ñ‚Ğ¾Ğ¿
bot restart   # Ğ ĞµÑÑ‚Ğ°Ñ€Ñ‚
bot logs      # Ğ›Ğ¾Ğ³Ğ¸
bot follow    # Ğ›Ğ¾Ğ³Ğ¸ Ğ² Ñ€ĞµĞ°Ğ»Ñ‚Ğ°Ğ¹Ğ¼Ğµ
bot errors    # Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸
```

### Ğ ÑƒÑ‡Ğ½Ğ¾Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº:

```bash
cd /root/crypto-bot
source venv/bin/activate
python -m app.main
```

### Ğ‘ÑĞºÑ‚ĞµÑÑ‚Ğ¸Ğ½Ğ³:

```bash
# ĞĞ±Ñ‹Ñ‡Ğ½Ñ‹Ğ¹
python scripts/run_backtest.py --all

# Ğ¡ Ğ¿Ğ»ĞµÑ‡Ğ°Ğ¼Ğ¸ Ğ¸ ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸ÑĞ¼Ğ¸
python -m app.backtesting.leverage_backtest

# SHORT ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸
python -m app.backtest.short_backtest_2025
python -m app.backtest.combo_short_backtest
```

### Ğ”Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºĞ°:

```bash
python -m app.debug.diagnose      # ĞŸĞ¾Ğ»Ğ½Ğ°Ñ
python -m app.debug.test_parsers  # ĞŸĞ°Ñ€ÑĞµÑ€Ñ‹
```

### Git:

```bash
git add -A
git commit -m "Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ"
git push origin main
```

---

## ğŸ”§ TROUBLESHOOTING

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°: TelegramConflictError

```
Telegram server says - Conflict: terminated by other getUpdates
```

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:**
```bash
# ĞÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑÑ‹
pkill -f python
supervisorctl stop all

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ systemd
systemctl stop crypto-bot
systemctl disable crypto-bot

# ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ
supervisorctl start crypto-bot
```

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°: ĞĞµÑ‚ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ğ¾Ğ²

**ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°:** Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸ Ñ‚Ñ€ĞµĞ±ÑƒÑÑ‚ ÑĞºÑÑ‚Ñ€ĞµĞ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ñ… ÑƒÑĞ»Ğ¾Ğ²Ğ¸Ğ¹ (RSI < 30, Stoch > 80)

**Ğ”Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºĞ°:**
```bash
python -m app.debug.diagnose
```

**ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¸Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€Ğ¾Ğ²:**
```python
# RSI Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ±Ñ‹Ñ‚ÑŒ < 30 Ğ´Ğ»Ñ LONG
# Stoch Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ±Ñ‹Ñ‚ÑŒ > 80 Ğ´Ğ»Ñ SHORT
# Ğ¡ĞµĞ¹Ñ‡Ğ°Ñ Ñ€Ñ‹Ğ½Ğ¾Ğº Ğ² Ğ½ĞµĞ¹Ñ‚Ñ€Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ·Ğ¾Ğ½Ğµ
```

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°: Nitter Ğ½Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚

**ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°:** Ğ’ÑĞµ Nitter Ğ¸Ğ½ÑÑ‚Ğ°Ğ½ÑÑ‹ Ğ·Ğ°Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹ Twitter

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:** Ğ­Ñ‚Ğ¾ Ğ½Ğ¾Ñ€Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾, RSS Ğ¸ CryptoCompare Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°: ĞšĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¸ ÑÑŠĞµĞ´Ğ°ÑÑ‚ Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ğ»ÑŒ

**ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°:** ĞŸÑ€Ğ¸ Ñ‡Ğ°ÑÑ‚Ğ¾Ğ¹ Ñ‚Ğ¾Ñ€Ğ³Ğ¾Ğ²Ğ»Ğµ ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¸ > Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ñ‚Ğ°

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:**
- Ğ£Ğ²ĞµĞ»Ğ¸Ñ‡Ğ¸Ñ‚ÑŒ TP Ğ´Ğ¾ 1-2%
- Ğ¡Ğ½Ğ¸Ğ·Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ÑĞ´ĞµĞ»Ğ¾Ğº
- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ»Ğ¸Ğ¼Ğ¸Ñ‚Ğ½Ñ‹Ğµ Ğ¾Ñ€Ğ´ĞµÑ€Ğ° (0.02% vs 0.055%)

---

## ğŸ“ ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ Ğ”Ğ›Ğ¯ AI ĞĞ“Ğ•ĞĞ¢Ğ

### ĞŸÑ€Ğ¸ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğµ Ñ ĞºĞ¾Ğ´Ğ¾Ğ¼:

1. **Ğ˜Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ñ‹** â€” Ğ°Ğ±ÑĞ¾Ğ»ÑÑ‚Ğ½Ñ‹Ğµ: `from app.module.file import ...`
2. **Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ** â€” `from app.core.logger import logger`
3. **ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³** â€” `from app.core.config import settings`
4. **Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸** â€” Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑÑ‚ÑŒ Ğ² `app/strategies/config.py`
5. **Telegram** â€” Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¸ Ğ² `app/notifications/telegram_bot.py`
6. **ĞœĞ¾Ğ´ÑƒĞ»Ğ¸** â€” Ğ½Ğ°ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¾Ñ‚ `BaseModule` Ğ² `app/modules/`

### ĞŸĞ¾ÑĞ»Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹:

```bash
# 1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ ÑĞ¸Ğ½Ñ‚Ğ°ĞºÑĞ¸Ñ
python -c "from app.main import *"

# 2. ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ
supervisorctl restart crypto-bot

# 3. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ»Ğ¾Ğ³Ğ¸
supervisorctl tail -f crypto-bot stderr

# 4. Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ğ² Git
git add -A && git commit -m "Update: Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ" && git push origin main
```

### Ğ‘Ñ‹ÑÑ‚Ñ€Ğ°Ñ Ğ´Ğ¸Ğ°Ğ³Ğ½Ğ¾ÑÑ‚Ğ¸ĞºĞ°:

```bash
# Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ±Ğ¾Ñ‚Ğ°
supervisorctl status
cat /root/crypto-bot/data/bot_status.json

# Ğ›Ğ¾Ğ³Ğ¸
tail -50 /var/log/supervisor/crypto-bot-stderr.log

# Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸
python -c "from app.strategies.config import get_all_strategies; print(len(get_all_strategies()))"

# ĞœĞ¾Ğ´ÑƒĞ»Ğ¸
python -c "from app.modules import grid_bot, funding_scalper, arbitrage_scanner; print('All modules OK')"

# Ğ˜Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€Ñ‹
python -m app.debug.diagnose
```

### Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ:

```python
# 1. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ñ„Ğ°Ğ¹Ğ» app/modules/new_module.py

from app.modules.base_module import BaseModule, ModuleSignal

class NewModule(BaseModule):
    name = "new_module"
    
    async def get_signals(self, market_data: Dict) -> List[ModuleSignal]:
        # Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ğ¾Ğ²
        pass
    
    async def get_status(self) -> Dict:
        # Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ ÑÑ‚Ğ°Ñ‚ÑƒÑ
        pass
    
    def get_status_text(self) -> str:
        # Ğ¢ĞµĞºÑÑ‚ Ğ´Ğ»Ñ Telegram
        pass

new_module = NewModule()

# 2. Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ² app/modules/__init__.py
from app.modules.new_module import new_module, NewModule

# 3. Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ² app/core/monitor.py
from app.modules.new_module import new_module

# Ğ’ _check_for_signals():
if new_module.enabled:
    signals = await new_module.get_signals({"prices": prices})
    for signal in signals:
        await self._notify_new_module_trade(signal)

# 4. Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñƒ Ğ² telegram_bot.py
@self.dp.message(Command("newmodule"))
async def cmd_new_module(message):
    text = new_module.get_status_text()
    await message.answer(text, parse_mode=ParseMode.MARKDOWN)
```

---

## ğŸ“ Ğ¡Ğ¡Ğ«Ğ›ĞšĞ˜

- **GitHub:** https://github.com/Deniskript/CryptoDen-v1.0
- **WebApp:** https://app.cryptoden.ru
- **Bybit API:** https://bybit-exchange.github.io/docs/v5/intro
- **OpenRouter:** https://openrouter.ai/docs

---

**ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½ĞµĞµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ:** 2026-01-28 21:00 UTC
